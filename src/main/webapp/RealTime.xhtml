<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<body>

	<ui:composition template="./WEB-INF/Template.xhtml">
		<f:metadata>
			<f:param name="dummy" />
			<f:event listener="#{graficoTemperaturaBean.preRender()}"
				type="preRenderView" />
		</f:metadata>
		<ui:define name="titulo">
                Dashboard
            </ui:define>
		<ui:define name="subtitulo">
		</ui:define>
		<ui:define name="breadcrumb-titulo">
                Início
            </ui:define>
		<ui:define name="breadcrumb-ativo">
		</ui:define>

		<ui:define name="content">
			<div class="col-sm-12">
				<p:growl id="growl" life="1000000" />
				<p:panel closeTitle="Dashboard" header="Temperaturas"
					closable="false">
					<div class="row items-push text-uppercase">
						<div class="col-xs-12">
							<div class="col-xs-6 col-sm-3">
								<div class="font-w700 text-gray-darker animated fadeIn"></div>
								<div class="text-muted animated fadeIn">
									<small><i class="si si-calendar"></i> Temperatura Atual</small>
								</div>
								<a class="h2 font-w300 text-primary animated flipInX"> <h:form>
										<h:outputText id="txtMax"
											value="#{graficoTemperaturaBean.atual}" />
										<p:poll interval="5"
											listener="#{graficoTemperaturaBean.maxValorMes()}"
											update="txtMax" />
									</h:form>
								</a>
							</div>
							<div class="col-xs-6 col-sm-3">
								<div class="font-w700 text-gray-darker animated fadeIn"></div>
								<div class="text-muted animated fadeIn">
									<small><i class="si si-calendar"></i> Mínima Mês</small>
								</div>
								<a class="h2 font-w300 text-primary animated flipInX"><h:form>
										<h:outputText id="txtMin"
											value="#{graficoTemperaturaBean.minTemperatura}" />
										<p:poll interval="30"
											listener="#{graficoTemperaturaBean.maxValorMes()}"
											update="txtMin" />
									</h:form></a>
							</div>
							<div class="col-xs-6 col-sm-3">
								<div class="font-w700 text-gray-darker animated fadeIn"></div>
								<div class="text-muted animated fadeIn">
									<small><i class="si si-calendar"></i> Máxima dia</small>
								</div>
								<a class="h2 font-w300 text-primary animated flipInX"><h:form>
										<h:outputText id="txtMaxDia"
											value="#{graficoTemperaturaBean.maxDiaTemperatura}" />
										<p:poll interval="5"
											listener="#{graficoTemperaturaBean.maxValorMes()}"
											update="txtMaxDia" />
									</h:form></a>
							</div>
							<div class="col-xs-6 col-sm-3">
								<div class="font-w700 text-gray-darker animated fadeIn"></div>
								<div class="text-muted animated fadeIn">
									<small><i class="si si-calendar"></i> Mínima dia</small>
								</div>
								<a class="h2 font-w300 text-primary animated flipInX"><h:form>
										<h:outputText id="txtMinDia"
											value="#{graficoTemperaturaBean.minDiaTemperatura}" />
										<p:poll interval="5"
											listener="#{graficoTemperaturaBean.maxValorMes()}"
											update="txtMinDia" />
									</h:form></a>
							</div>
						</div>
					</div>

					<div class="row">
						<h:form>
							<p:chart type="line" model="#{graficoTemperaturaBean.model}"
								id="chart">
								<p:poll interval="10" listener="#{graficoTemperaturaBean.model}"
									update="chart" />
							</p:chart>
						</h:form>
					</div>

				</p:panel>

				<hr />
			</div>
		</ui:define>
	</ui:composition>

</body>
</html>
